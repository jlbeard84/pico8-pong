pico-8 cartridge // http://www.pico-8.com
version 15
__lua__
--game
score=0
scoremultiplier=10
lives=3

--paddle
padx=52
pady=122
padw=24
padh=4

--ball
ballx=64
bally=64
ballsize=3
ballxdir=5
ballydir=-3

function movepaddle()
 if btn(0) then
  padx-=3
 elseif btn(1) then
  padx+=3
 end
end

function bounceball()
 --left
 if ballx<ballsize then
  ballxdir=-ballxdir
  sfx(1)
 end
 
 --right
 if ballx>128-ballsize then
  ballxdir=-ballxdir
  sfx(1)
 end
 
 --top
 if bally<ballsize then
  ballydir=-ballydir
  sfx(1)
 end
end

function bouncepaddle()
 if ballx>=padx and
    ballx<=padx+padw and
    bally>pady then
    
    sfx(0)
    score+=scoremultiplier
    ballydir=-ballydir
 end
end

function moveball()
 ballx+=ballxdir
 bally+=ballydir
end

function losedeadball()
 if bally>128 then
 
  if lives>0 then
   sfx(2)
   bally=24
   lives-=1
  else
   ballydir=0
   ballxdir=0
   bally=64
   sfx(3)
  end
 end
end

function _update()
 movepaddle()
 bounceball()
 bouncepaddle()
 moveball()
 losedeadball()
end

function _draw()
 --clear screen
 rectfill(0,0,128,128,3)
 
 for i=1,lives do
  spr(001,90+i*8,4)
 end

 --draw score
 print(score,12,6,15)
 
 --draw paddle
 rectfill(padx,pady,padx+padw,pady+padh,15)
 
 --draw ball
 circfill(ballx,bally,ballsize,15)
end


__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ff0ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000fffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000fffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000fff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000400003407000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000100001c05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0006000029150211501a150141500c150091500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000915009150061500615004150041501a1000c1001e1000d1000e10010100161000f100101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
